---
description: 初步学习有关数组的知识，学会使用数组批量存储数据
---

# Lesson 10

{% hint style="info" %}
请注意，在本页面所显示的代码段中，可能出现行内缩进过多或过少等现象，这是不同笔记软件和集成开发环境所预设的制表符长度不同所导致的，属正常现象。
{% endhint %}

## 一、数组

### 1.1 开数组

创建一个数组可以通过这样的代码实现：

```cpp
数组类型 数组变量名[元素个数];
```

举例而言，通过代码 `int a[1000]` 可以创建一个 `int` 类型的数组 `a`，它包含 1000 个元素。

在很多情况下，对数组元素的后面的运算需要用到前面的数据，因此为了防止数组越界（存储的数据量超出了开数组时设定的空间）的发生，在开数组的时候会把元素个数多开几个。具体元素个数的多少取决于题目给的数据范围。

#### 1.1.1 为数组赋初始值

因为内存中存在以前使用过的数组数据，所以为数组的每一个元素设置初始值是有必要的。一旦为一个数组设定了初始值，数组空间范围内的所有元素都会被重新赋值：如果设定了初始值，则会重新赋值为此设定的值；如果没有设定，则会重新赋值为 0。在赋初始值时需要使用**大括号**。

```cpp
int a[10] = {1, 2, 3}; // 数组的前三项赋值为1、2、3，其余赋值为0
int b[10] = {0}; // 数组的第一项赋值为0，其余也赋值为0
```

### 1.2 用数组

#### 1.2.1 数组下标

**数组元素的下标从 0 开始**。以 1.1.1 中的数组 `a` 为例，在使用 `a` 数组时，假设需要调用数值 2，需要使用以下代码——

```cpp
int a[10] = {1, 2, 3};
cout << a[1];
```

下标从 0 开始，那么下标为 1 的元素才是数值 2。其他的数组也是同样的道理。

#### 1.2.2 调用数组元素

在 1.2.1 的例子中已经能发现，开数组时， `a[10]` 代表开一个空间为 10 的数组 `a`；而调用数组时，`a[10]` 代表调用数组 `a` 中下标为 10 的元素。调用数组中的元素可以通过以下代码实现：

```cpp
数组变量名[元素下标]
```

**应用一**

给定一个正整数 n（$$n \le 1000$$），再给定 n 个正整数，求这 n 个正整数的平均值。请使用数组作答。

```cpp
#include <bits/stdc++.h>
using namespace std;

int main () {
	int n;
	cin >> n;
	int a[1005] = {0};
	int sum = 0; double avg;
	for (int i = 0; i < n; i++) {
		cin >> a[i];
		sum += a[i];
	}
	avg = sum*1.0/n;
	cout << fixed << setprecision(2) << avg;
	return 0;
}
```

**应用二**

淘淘家门口有 10 棵苹果树，每年各结 1 个苹果，给定这 10 个苹果离地面的高度（单位为厘米）。淘淘有一张高 30 厘米的小板凳，他会踩在小板凳上摘苹果，给定淘淘的身高（单位为厘米）。假设淘淘一碰到苹果就能把它摘下来，请问他一共能摘到多少个苹果？

```cpp
#include <bits/stdc++.h>
using namespace std;

int main () {
	int a[15] = {0}, h, ans = 0;
	for (int i = 0; i < 10; i++) cin >> a[i];
	cin >> h;
	for (int i = 0; i < 10; i++) if (a[i] <= h+30) ans++;
	cout << ans;
	return 0;
}
```

**应用三**

给定正整数 n 并给定一个长度为 n 的整数序列，求这个序列中与整数 m 相同的数的个数。

```cpp
#include <bits/stdc++.h>
using namespace std;

int main () {
	int n, m, a[105] = {0}, ans = 0;
	cin >> n;
	for (int i = 0; i < n; i++) cin >> a[i];
	cin >> m;
	for (int i = 0; i < n; i++) if (a[i] == m) ans++;
	cout << ans;
	return 0;
}
```

**应用四**

给定数组的元素个数并以此给定整数数组，请倒序输出这个数组。

```cpp
#include <bits/stdc++.h>
using namespace std;

int main () {
	int n;
	cin >> n;
	int a[105] = {0};
	for (int i = 0; i < n; i++) cin >> a[i];
	for (int i = n-1; i >= 0; i--) cout << a[i] << " ";
	return 0;
}
```

**应用五**

共有编号从 1 一直到 n 的 n 盏亮着的灯，还有编号从 1 一直到 m 的 m 个人。现在每个人依编号顺序对所有是自己编号的倍数的灯进行一次操作（打开关上的灯或关闭打开的灯），问：到第 m 个人操作完之后，哪几盏灯是关上的。相邻 2 个答案之间用逗号分隔。

```cpp
#include <bits/stdc++.h>
using namespace std;

int main () {
	int n, book[5005] = {0}, m; // 关闭的灯为1，打开的为0
	cin >> n >> m;
	for (int i = 1; i <= m; i++) { // 循环每个人
		for (int j = i; j <= n; j+=i) { // 循环每个人需要操作的灯
			if(book[j]) book[j] = 0; // 打开关闭的灯
			else book[j] = 1; // 关闭打开的灯
		}
	}
	bool flag = 0; // 标记是否是第一个
	for (int i = 1; i <= n; i++) {
		if (book[i]) { // 判断是否是灭的
			if (!flag) { // 判断是否是第一个
				cout << i; // 是第一个则仅输出编号
				flag = 1; // 不会再是第一个
			}
			else cout << "," << i; // 不是第一个则输出逗号再输出编号
		}
	}
	return 0;
}
```

**当人数与灯数相等的时候**，这道题也可以用数学方法解答。我们知道，要想把一盏原本亮着的灯，通过几次操作，使它最终处于关闭状态，操作的次数必须是奇数。同时，一盏灯想要被按，按灯人的编号必须要是灯的编号的因数。因此，一盏想要最后关闭的灯，它的编号必须具有奇数个因数。又因为一个数的因数都是成对出现的，唯独完全平方数的因数是奇数个，所以最终关上的灯的编号都会是完全平方数。
